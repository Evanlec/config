#!/usr/bin/env ruby
#Author: Gigamo <gigamo@gmail.com>
# Simple script that moves config files over to a local git repository
GITDIR = "#{ENV["HOME"]}/config"
 
def togit(file)
  for i in file
    puts "Copying #{i} to #{GITDIR} and adding it to GIT"
    IO.popen("cp -r #{i} #{GITDIR}/#{i} && cd #{GITDIR} && git add #{i}") {}
  end
end
 
begin
  if not ARGV.empty?
    togit(ARGV)
  else
    exit 1
  end
rescue Exception => exp
  puts "Exception! Message: \"%s\". Probably didn't add an argument." % exp.message
  $stdout.flush
end
